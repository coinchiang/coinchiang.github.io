# 嵌入式开发环境的搭建

## VMware Workstation

[下载 VMware Workstation Pro | CN](https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html)

[VMware Workstation Pro 16 许可证密钥，批量永久激活！ - Stary_tx - 博客园 (cnblogs.com)](https://www.cnblogs.com/startl/p/15520629.html)

## 安装Ubuntu及其相关服务

### Linux Distribution

linux的发行版：kernel shell software... all in one

> RedHat：server
>
> CentOS
>
> Ubuntu

[Index of /releases/lucid (ubuntu.com)](http://old-releases.ubuntu.com/releases/lucid/)

`LTS`:`long time support`

断网安装会快一些

### 配置

#### 设置超级用户密码

```shell
sudo passwd root
```

#### 切换用户

```shell
su -
```

#### 更新源

```shell
sudo apt-get update
```

### Vim

`vim`是`vi`的升级版

建议安装此包

```shell
sudo apt-get install vim-nox
```

安装后`vi`会被替换成`vim`

### 常用服务介绍

#### sshd

`shell`中的`~`指代当前用户目录

`d`常在linux中表示“服务”

`sshd`: Secre Shell

##### SecureCRT客户端

[勉强能用securecrt 5.2.2](http://www.rsdown.cn/down/108133.html#download)

##### SSHD服务端

![image-20220207135452663](img\询问shell.png)

记不清命令可以尝试输入获取提示信息

```shell
ifconfig	//查看ip信息
```

##### Zmodem的使用

`zmodem`是一种数据传输协议，`SecureCRT`中有集成

```shell
sudo apt-get install lrzsz // 安装
rz // receive using zmodem
sz // send using zmodem
cd // 切换到用户目录
```

#### samba

> 安装 配置 重启

`SMB: Server Message Block`是Windows的协议，不开放。

`SAMBA`是linux的协议。

##### 安装

```shell
sudo apt-get install samba
```

##### 配置

配置文件在`/etc/samba`

```shell
sudo cp smb.conf bak_smb.conf // backup before edit
```

配置需要共享的目录以及对应权限

```shell
// add at end of smb.conf
[coin_share] 
	comment = My share
	path = /home/coin/lab
	writable = yes
	browseable = yes
```

samba的用户权限

samba的登陆用户与linux登录用户共享，但密码不会共享

```shell
sudo smbpasswd -a coin // 此处只能添加linux中存在的用户名
```

##### 重启

```shell
sudo /etc/init.d/smbd restart
sudo /etc/init.d/nmbd restart
```

`/etc/init.d/`目录下存放大量服务启动相关文件

![windows samba](/img/Windows samba.png)

 据说samba 1是不太安全

[如何在 Windows 中检测、启用和禁用 SMBv1、SMBv2 和 SMBv3 | Microsoft Docs](https://docs.microsoft.com/zh-cn/windows-server/storage/file-server/troubleshoot/detect-enable-and-disable-smbv1-v2-v3)

[Windows 10 Samba文件共享的设置方法，解决不能访问和密码错误的问题-51CTO.COM](https://os.51cto.com/article/658846.html)

![open samba](/img/open samba.png)

##### 映射网络驱动器

![samba映射](/img/samba映射.png)

## vmtools

解压命令

```shell
tar -zxvf VmwareTools-9.6.2-1688356.tar.gz -C /tmp/
```

路径：`/mnt/hgfs/`

## SourceInsight

